<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Cart | OFKFF</title>
    <meta name="description" content="Review your organic farming supplies and complete your purchase.">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://ofkff.netlify.app/cart.html">
    <meta property="og:title" content="Your Cart | OFKFF">
    <meta property="og:description" content="Review your organic farming supplies and complete your purchase.">
    <meta property="og:image" content="https://ofkff.netlify.app/assets/logo.png">
    <meta property="og:site_name" content="OFKFF">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://ofkff.netlify.app/cart.html">
    <meta property="twitter:title" content="Your Cart | OFKFF">
    <meta property="twitter:description" content="Review your organic farming supplies and complete your purchase.">
    <meta property="twitter:image" content="https://ofkff.netlify.app/assets/logo.png">

    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="assets/logo.png" type="image/x-icon">
    <style>
        .cart-page-container {
            min-height: 60vh;
            padding-top: 2rem;
            padding-bottom: 50px;
        }

        .cart-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 2rem;
            background: white;
            border-radius: var(--radius-md);
            overflow: hidden;
            box-shadow: var(--shadow-sm);
        }

        .cart-table th,
        .cart-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--color-border);
        }

        .cart-table th {
            background-color: var(--color-bg-light);
            font-weight: 600;
        }

        .cart-item-img {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 6px;
        }

        .cart-actions {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        .qty-btn {
            background: var(--color-bg-light);
            border: 1px solid var(--color-border);
            width: 30px;
            height: 30px;
            border-radius: 4px;
            cursor: pointer;
        }

        .remove-btn {
            color: #dc2626;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .cart-summary {
            margin-top: 2rem;
            background: white;
            padding: 2rem;
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-sm);
            text-align: right;
            max-width: 400px;
            margin-left: auto;
        }

        .empty-cart-msg {
            text-align: center;
            font-size: 1.2rem;
            color: var(--color-text-light);
            margin-top: 3rem;
        }

        @media (max-width: 768px) {
            .cart-table thead {
                display: none;
            }

            .cart-table,
            .cart-table tbody,
            .cart-table tr,
            .cart-table td {
                display: block;
                width: 100%;
            }

            .cart-table tr {
                margin-bottom: 1rem;
                background: white;
                border: 1px solid var(--color-border);
                border-radius: 8px;
                padding: 1rem;
            }

            .cart-table td {
                display: flex;
                justify-content: space-between;
                align-items: center;
                border-bottom: 1px solid #f0f0f0;
            }

            .cart-table td::before {
                content: attr(data-label);
                font-weight: 600;
                color: var(--color-text-light);
            }
        }
    </style>
</head>

<body>

    <!-- Header (Consistent with index.html) -->
    <header>
        <div class="container">
            <a href="index.html" class="logo"
                style="display: flex; align-items: center; gap: 0.5rem; text-decoration: none;">
                <img src="assets/logo.png" alt="OFKFF Logo" style="height: 40px; width: auto;">
                OFKFF
            </a>
            <div class="header-right" style="display: flex; align-items: center; gap: 1.5rem;">
                <!-- Lang Switch -->
                <div class="lang-switch">
                    <select id="langSelect" onchange="changeLanguage(this.value)"
                        style="padding: 0.3rem; border-radius: 6px; border: 1px solid #ccc; font-size: 0.9rem;">
                        <option value="en">üá∫üá∏ English</option>
                        <option value="hi">üáÆüá≥ ‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
                        <option value="or">üáÆüá≥ ‡¨ì‡¨°‡¨º‡¨ø‡¨Ü</option>
                    </select>
                </div>

                <nav class="desktop-nav" style="display: flex; align-items: center; gap: 2rem;">
                    <ul class="nav-links">
                        <li><a href="index.html#problem">The Problem</a></li>
                        <li><a href="index.html#solution">The Solution</a></li>
                        <li><a href="index.html#how-it-works">How It Works</a></li>
                        <li><a href="index.html#impact">Impact</a></li>
                        <li><a href="index.html#gallery">Gallery</a></li>
                        <li><a href="index.html#contact">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <div class="container cart-page-container">
        <h1 data-i18n="cart_title">Your Cart</h1>

        <div id="cart-content">
            <!-- Table will be injected here -->
            <table class="cart-table" id="cart-table">
                <thead>
                    <tr>
                        <th data-i18n="cart_col_prod">Product</th>
                        <th data-i18n="cart_col_price">Price</th>
                        <th data-i18n="cart_col_qty">Quantity</th>
                        <th data-i18n="cart_col_total">Total</th>
                        <th data-i18n="cart_col_action">Action</th>
                    </tr>
                </thead>
                <tbody id="cart-body">
                    <!-- JS will populate rows -->
                </tbody>
            </table>

            <div class="cart-summary" id="cart-footer">
                <div
                    style="display: flex; justify-content: space-between; margin-bottom: 1rem; font-size: 1.2rem; font-weight: bold;">
                    <span data-i18n="cart_grand_total">Grand Total:</span>
                    <span id="grand-total">‚Çπ0</span>
                </div>
                <a href="https://forms.gle/Aht1BTsPW9bXUKKX6" target="_blank" class="btn btn-primary"
                    style="width: 100%; display: block; text-align: center;" data-i18n="cart_checkout">Proceed to
                    Checkout</a>
                <p style="font-size: 0.8rem; color: #666; margin-top: 1rem;" data-i18n="cart_payment_note">Payment will
                    be collected after order
                    confirmation via the form.</p>
            </div>
        </div>

        <div id="empty-cart-message" class="empty-cart-msg" style="display: none;">
            <p data-i18n="cart_empty">Your cart is empty.</p>
            <a href="index.html#solution" class="btn btn-secondary" style="margin-top: 1rem;"
                data-i18n="cart_browse">Browse Products</a>
        </div>
    </div>

    <!-- Footer -->
    <!-- Footer -->
    <footer>
        <div class="container text-center">
            <div
                style="display: flex; align-items: center; justify-content: center; gap: 0.5rem; margin-bottom: 1.5rem;">
                <img src="assets/logo.png" alt="OFKFF Logo"
                    style="height: 40px; width: auto; filter: grayscale(100%); opacity: 0.7;">
                <span style="font-weight: 700; color: var(--color-text-light);">OFKFF</span>
            </div>
            <p style="color: var(--color-text-light); max-width: 500px; margin: 0 auto 2rem;">
                Empowering farmers with sustainable, low-cost organic solutions.
            </p>
            <div class="footer-links" style="display: flex; justify-content: center; gap: 2rem; flex-wrap: wrap;">
                <a href="index.html#about">About</a>
                <a href="index.html#contact">Contact</a>
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
            </div>
            <p style="margin-top: 2rem; color: var(--color-text-light); font-size: 0.9rem;">&copy; 2026 OFKFF. All
                rights reserved.</p>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // Inline script to render cart specifically for this page
        // Reuse logic from script.js roughly, or just implement specific render here
        document.addEventListener('DOMContentLoaded', () => {
            renderCartPage();
        });

        function renderCartPage() {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const tbody = document.getElementById('cart-body');
            const emptyMsg = document.getElementById('empty-cart-message');
            const cartContent = document.getElementById('cart-content');
            const grandTotalEl = document.getElementById('grand-total');

            if (cart.length === 0) {
                cartContent.style.display = 'none';
                emptyMsg.style.display = 'block';
                return;
            }

            cartContent.style.display = 'block';
            emptyMsg.style.display = 'none';
            tbody.innerHTML = '';
            let total = 0;

            cart.forEach((item, index) => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;

                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td data-label="Product">
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <!-- Placeholder image logic if needed, or real images -->
                            <div style="font-weight: 500;">${item.name}</div>
                        </div>
                    </td>
                    <td data-label="Price">‚Çπ${item.price}</td>
                    <td data-label="Quantity">
                        <div class="cart-actions">
                            <button class="qty-btn" onclick="updateCartItem(${index}, -1)">-</button>
                            <span>${item.quantity}</span>
                            <button class="qty-btn" onclick="updateCartItem(${index}, 1)">+</button>
                        </div>
                    </td>
                    <td data-label="Total">‚Çπ${itemTotal}</td>
                    <td data-label="Action">
                        <button class="remove-btn" onclick="removeCartItem(${index})">Remove</button>
                    </td>
                `;
                tbody.appendChild(tr);
            });

            grandTotalEl.innerText = '‚Çπ' + total;
        }

        // We can expose these globally or add to script.js. 
        // For simplicity, let's keep them here or modify script.js to handle them properly.
        // Actually, script.js might already have some cart logic. Let's rely on script.js for update/remove
        // IF script.js exposes them.
    </script>
</body>

</html>